<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MODAURA | Luxury Boutique</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Jost:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        .serif { font-family: 'Cinzel', serif; }
        body { font-family: 'Jost', sans-serif; background-color: #050505; color: white; }
        .glass { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(10px); }
        .gold-text { background: linear-gradient(to right, #bf953f, #fcf6ba, #b38728, #fbf5b7, #aa771c); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .buy-btn { background: linear-gradient(45deg, #bf953f, #aa771c); color: black; transition: all 0.3s; }
        .buy-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 20px rgba(191, 149, 63, 0.3); }
    </style>
</head>
<body>
    <header class="py-10 text-center border-b border-white/5">
        <h1 class="serif text-5xl tracking-[0.3em] gold-text mb-2">MODAURA</h1>
        <p class="text-xs tracking-[0.5em] uppercase text-gray-500">The International Gala Collection</p>
    </header>

    <section class="max-w-2xl mx-auto my-16 p-8 glass rounded-3xl border border-white/10">
        <h2 class="serif text-2xl mb-8 text-center gold-text">Inventory Management</h2>
        <form id="dressForm" class="space-y-4">
            <input type="text" id="name" placeholder="Dress Name" class="w-full bg-white/5 border border-white/10 p-4 rounded-xl outline-none focus:border-yellow-600" required>
            <div class="grid grid-cols-2 gap-4">
                <input type="text" id="price" placeholder="Price (e.g. 199.99)" class="bg-white/5 border border-white/10 p-4 rounded-xl outline-none focus:border-yellow-600">
                <select id="category" class="bg-black border border-white/10 p-4 rounded-xl outline-none focus:border-yellow-600">
                    <option value="Gala Gown">Gala Gown</option>
                    <option value="Cocktail">Cocktail</option>
                    <option value="Bridal">Bridal</option>
                </select>
            </div>
            <input type="url" id="url" placeholder="Direct Image URL" class="w-full bg-white/5 border border-white/10 p-4 rounded-xl outline-none focus:border-yellow-600" required>
            <input type="url" id="affLink" placeholder="Amazon Affiliate Link" class="w-full bg-white/5 border border-white/10 p-4 rounded-xl outline-none focus:border-yellow-600">
            <textarea id="desc" placeholder="Product Story" class="w-full bg-white/5 border border-white/10 p-4 rounded-xl outline-none focus:border-yellow-600 h-32"></textarea>
            <button type="submit" id="btn" class="buy-btn w-full py-4 rounded-xl font-bold uppercase tracking-widest">Publish to Boutique</button>
        </form>
    </section>

    <section class="max-w-7xl mx-auto px-6 mb-24">
        <h2 class="serif text-3xl mb-12 text-center tracking-widest uppercase">Masterpieces of Elegance</h2>
        <div id="gallery" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
            </div>
    </section>

    <script>
        async function loadDresses() {
            const res = await fetch('/api/get-dresses');
            const data = await res.json();
            const gallery = document.getElementById('gallery');
            gallery.innerHTML = data.map(d => `
                <div class="glass group rounded-2xl overflow-hidden border border-white/5 hover:border-yellow-600/30 transition-all duration-500">
                    <div class="relative overflow-hidden h-[450px]">
                        <img src="${d.url}" class="w-full h-full object-cover transition duration-1000 group-hover:scale-110">
                        <div class="absolute top-4 right-4 bg-black/80 px-4 py-2 rounded-full border border-yellow-600/50">
                            <span class="gold-text font-bold">$${d.price || '0.00'}</span>
                        </div>
                    </div>
                    <div class="p-8 text-center">
                        <h3 class="serif text-xl mb-2 text-white">${d.name}</h3>
                        <p class="text-gray-500 text-sm mb-6 line-clamp-2">${d.description}</p>
                        <a href="${d.affiliate_link}" target="_blank" class="buy-btn block w-full py-4 rounded-xl font-bold uppercase tracking-widest text-[10px]">Buy via Amazon</a>
                    </div>
                </div>
            `).join('');
        }
    document.getElementById('dressForm').onsubmit = async (e) => {
            e.preventDefault();
            const btn = document.getElementById('btn');
            btn.innerText = "PUBLISHING...";
             const data = {
                name: document.getElementById('name').value,
                desc: document.getElementById('desc').value,
                url: document.getElementById('url').value,
                price: document.getElementById('price').value,
                affiliate_link: document.getElementById('affLink').value,
                category: document.getElementById('category').value
            };
         await fetch('/api/save', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(data)
            });

            btn.innerText = "PUBLISH TO BOUTIQUE";
            document.getElementById('dressForm').reset();
            loadDresses();
        };
    loadDresses();
    </script>
</body>
            </html>
            
