<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MODAURA | Luxury Boutique</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@300;400;600&display=swap');
        body { font-family: 'Poppins', sans-serif; background-color: #0a0a0a; color: white; margin: 0; }
        .serif { font-family: 'Playfair Display', serif; }
        .glass { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .gold-text { background: linear-gradient(135deg, #d4af37 0%, #f9f295 50%, #ab8e28 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .buy-btn { background: linear-gradient(90deg, #d4af37, #ab8e28); color: black; font-weight: bold; transition: 0.3s; }
        .buy-btn:hover { box-shadow: 0 0 15px rgba(212, 175, 55, 0.5); transform: scale(1.02); }
    </style>
</head>
<body>

<nav class="glass fixed w-full z-50 px-8 py-4 flex justify-between items-center">
    <div class="serif text-2xl font-bold tracking-tighter gold-text">MODAURA</div>
    <div class="text-[10px] uppercase tracking-[0.4em] text-gray-500">Premium Collection 2026</div>
</nav>

<section class="pt-28 pb-10 px-4">
    <div class="glass max-w-xl mx-auto p-8 rounded-3xl">
        <h2 class="serif text-2xl mb-6 text-center gold-text text-white">Boutique Management</h2>
        <form id="dressForm" class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <input type="text" id="name" placeholder="Dress Name" class="bg-black/40 border border-white/10 p-3 rounded-xl outline-none text-sm focus:border-yellow-600" required>
            <input type="text" id="price" placeholder="Price (e.g. $115.99)" class="bg-black/40 border border-white/10 p-3 rounded-xl outline-none text-sm" required>
            <input type="text" id="url" placeholder="Image URL (.jpg)" class="md:col-span-2 bg-black/40 border border-white/10 p-3 rounded-xl outline-none text-sm" required>
            <input type="text" id="affLink" placeholder="Amazon Affiliate Link" class="md:col-span-2 bg-black/40 border border-white/10 p-3 rounded-xl outline-none text-sm" required>
            <textarea id="desc" placeholder="Luxury Description" class="md:col-span-2 bg-black/40 border border-white/10 p-3 rounded-xl outline-none text-sm" rows="2"></textarea>
            <button type="submit" id="btn" class="md:col-span-2 bg-white text-black font-bold py-4 rounded-xl hover:bg-yellow-500 transition tracking-widest text-xs uppercase">Add to Collection</button>
        </form>
    </div>
</section>

<section class="py-16 px-6 max-w-7xl mx-auto">
    <h3 class="serif text-4xl mb-12 text-center tracking-tight">The <span class="gold-text italic">Curated</span> Gowns</h3>
    <div id="gallery" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
        </div>
</section>

<script>
    // 1. Save Data
    document.getElementById('dressForm').onsubmit = async (e) => {
        e.preventDefault();
        const btn = document.getElementById('btn');
        btn.innerText = "UPDATING BOUTIQUE...";
        const data = {
            name: document.getElementById('name').value,
            desc: document.getElementById('desc').value,
            url: document.getElementById('url').value,
            price: document.getElementById('price').value,
            affiliate_link: document.getElementById('affLink').value
        };
        const res = await fetch('/api/save', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(data)
        });
        if (res.ok) { alert("Luxury item added successfully!"); location.reload(); }
        btn.innerText = "Add to Collection";
    };

    // 2. Load Data
    async function loadDresses() {
        const res = await fetch('/api/get-dresses');
        const dresses = await res.json();
        const gallery = document.getElementById('gallery');
        gallery.innerHTML = dresses.map(d => `
            <div class="glass group rounded-2xl overflow-hidden transition-all duration-500 hover:border-yellow-600/50">
                <div class="relative overflow-hidden">
                    <img src="${d.url}" class="w-full h-[450px] object-cover transition duration-700 group-hover:scale-110">
                    <div class="absolute top-4 right-4 bg-black/70 px-3 py-1 rounded-full text-xs font-bold text-yellow-500 border border-yellow-500/30">
                        ${d.price || '$115.00'}
                    </div>
                </div>
                <div class="p-6">
                    <h4 class="serif text-xl mb-1 uppercase tracking-tighter">${d.name}</h4>
                    <p class="text-gray-500 text-[11px] mb-6 font-light uppercase tracking-widest leading-relaxed">${d.desc}</p>
                    <a href="${d.affiliate_link || '#'}" target="_blank" class="buy-btn block w-full text-center py-4 rounded-lg text-[10px] tracking-[0.2em] uppercase font-bold">
                        Acquire on Amazon
                    </a>
                </div>
            </div>
        `).join('');
    }
    loadDresses();
</script>
</body>
</html>
